{
  "name": "contentblocks",
  "version": "0.1.3",
  "description": "Create simple editable CMS content blocks in node.js. Wrapper for Create.js CMS framework.",
  "author": {
    "name": "Kory Becker",
    "email": "kbecker@primaryobjects.com",
    "url": "http://www.primaryobjects.com"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/primaryobjects/contentblocks.git"
  },
  "main": "./lib",
  "dependencies": {
    "cheerio": "*",
    "easypost": "*",
    "memory-cache": "*"
  },
  "engines": {
    "node": ">= 0.8.x",
    "http": "*"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "http://www.opensource.org/licenses/MIT"
    }
  ],
  "keywords": [
    "cms",
    "create.js",
    "create js",
    "create",
    "contentblocks",
    "content blocks",
    "content management",
    "content management system",
    "hallo",
    "aloha"
  ],
  "_id": "contentblocks@0.1.3",
  "_from": "contentblocks@",
  "readme": "ï»¿ContentBlocks\n--------\n\nCreate simple editable CMS content blocks in node.js. Wrapper for Create.js CMS framework.\n\nContentBlocks is a wrapper for the Create.js CMS interface. It allows you to define CMS editable content blocks within your web pages by including HTML5 tags around your content. After adding the markup, simply click Edit in the Create.js toolbar to edit your content in-line on the page. Click Save to persist the data to your CMS back-end web service.\n\nContentBlocks includes a node.js module to pre-render CMS content upon page-load. It also includes pre-defined routes and REST web service integration for saving content back to the CMS. In short, ContentBlocks makes it easy to use the Create.js CMS framework in node.js\n\nDemo http://contentblocks.herokuapp.com\n\n```bash\n$ npm install contentblocks\n```\n\n## About Create.js\n\nFrom the Create.js web site @ http://createjs.org\n\"Create.js is a comprehensive web editing interface for Content Management Systems. It is designed to provide a modern, fully browser-based HTML5 environment for managing content. Create can be adapted to work on almost any content management backend.\"\n\n## Usage\n\n### app.js\n\n```\nvar contentBlocks = require('contentblocks')({ app: app, host: 'red-ant.herokuapp.com', pathFind: '/v1/nest/find?q={\"@subject\":\"[id]\"}', pathPost: '/v1/nest', pathPut: '/v1/nest/[id]', pathDelete: '/v1/nest/[id]' });\n\napp.configure(function(){\n  ...\n  app.use(contentBlocks.render); // Place this line BEFORE app.use(app.router) as it needs to pre-render content.\n  app.use(app.router);\n  ...\n});\n```\n\n### web site\n\nCopy the contents of node_modules/contentblocks/scripts into your web site javascript folder. These contain the CMS user interface controls.\n\nCopy the contents of node_modules/contentblocks/css into your web site css folder. These contain the CMS user interface styles.\n\nIn your web site footer view (footer.jade, etc), include the scripts and css:\n\n```\nscript(src='http://code.jquery.com/ui/1.9.2/jquery-ui.js')\nscript(src='/scripts/underscore-min.js')\nscript(src='/scripts/backbone-min.js')\nscript(src='/scripts/vie-min.js')\nscript(src='/scripts/jquery.tagsinput.min.js')\nscript(src='/scripts/jquery.rdfquery.min.js')\nscript(src='/scripts/annotate-min.js')\nscript(src='/scripts/rangy-core-1.2.3.js')\nscript(src='/scripts/hallo-min.js')\nscript(src='/scripts/aloha/lib/require.js')\nscript(src='/scripts/aloha/lib/aloha-full.min.js', data-aloha-plugins='common/ui,common/format,common/link,common/image,extra/sourceview')\nscript(src='/scripts/create-min.js')\nscript(src='/scripts/contentblocks.js')\n\nlink(rel='stylesheet', href='http://cdn.aloha-editor.org/latest/css/aloha.css')\nlink(rel='stylesheet', href='/css/create-ui/css/create-ui.css')\nlink(rel='stylesheet', href='/css/midgard-notifications/midgardnotif.css')\n```\n\n## Configuration\n\nTwo changes need to be made to point to your own REST web service url for persisting the CMS content:\n\n1. Replace the host and paths in the require('contentBlocks')({ ... }) statement, with your own CMS REST urls. ContentBlocks and Create.js are compatible with any CMS backend system that provides a REST interface (GET/POST/PUT/DELETE) for managing content.\n\n2. Replace the value for \"restUrl\" in /scripts/contentblock.js to point to your web service \"find\" method.\n\nFor step 1, the paths should be specified as shown below. Use [id] as a placeholder in the url for where the actual content block id will be inserted automatically:\n\npathFind: web service path to Find method, example: '/v1/nest/find?q={\"@subject\":\"[id]\"}'\r\n\r\npathPost: web service path to Insert (POST) method, example: '/v1/nest'\r\n\r\npathPut: web service path to Update (PUT) method, example: '/v1/nest/[id]'\r\n\r\npathDelete: web service path to Delete (DELETE) method, example: '/v1/nest/[id]'\r\n\n## Creating a CMS Content Block\n\nThe following Jade (HTML, etc) markup may be used to indicate editable CMS content blocks:\n\n```\n\t#myContentBlock(style='font-size:16px; color:#00000;', about='MyContentBlock')\n\t\tdiv(property='content')\n\t\t\tif typeof(MyContentBlock_content) !== 'undefined'\n\t\t\t\t!= MyContentBlock_content\n\t\t\telse\n\t\t\t\t[edit here]\n```\n\nFor more details on available markup, see http://createjs.org/guide/#rdfa\n\n## Showing the Controls to Administrator Users Only\n\nTo restrict editing of the CMS content to specific users, you can use a url parameter to enable and disable the CMS controls. For example, the following url (containing the parameter admin=1) could allow editing of the CMS blocks on the page:\n\n```\nhttp://localhost:3000/?admin=1\n```\n\nTo do this, first wrap your script and css references in an if/then block, as shown below. This could be placed in your footer.jade file:\n\n```\nif isAdmin\n\tscript(src='http://code.jquery.com/ui/1.9.2/jquery-ui.js')\n\tscript(src='/scripts/underscore-min.js')\n\tscript(src='/scripts/backbone-min.js')\n\tscript(src='/scripts/vie-min.js')\n\tscript(src='/scripts/jquery.tagsinput.min.js')\n\tscript(src='/scripts/jquery.rdfquery.min.js')\n\tscript(src='/scripts/annotate-min.js')\n\tscript(src='/scripts/rangy-core-1.2.3.js')\n\tscript(src='/scripts/hallo-min.js')\n\tscript(src='/scripts/aloha/lib/require.js')\n\tscript(src='/scripts/aloha/lib/aloha-full.min.js', data-aloha-plugins='common/ui,common/format,common/link,common/image,extra/sourceview')\n\tscript(src='/scripts/create-min.js')\n\tscript(src='/scripts/contentblocks.js')\n\n\tlink(rel='stylesheet', href='http://cdn.aloha-editor.org/latest/css/aloha.css')\n\tlink(rel='stylesheet', href='/css/create-ui/css/create-ui.css')\n\tlink(rel='stylesheet', href='/css/midgard-notifications/midgardnotif.css')\n```\n\nNext, in the route for your view, include a value for isAdmin, indicating if the current user should be able to edit the CMS blocks, as follows:\n\n```\nvar remoteip = require('remoteip');\n\nexports.index = function (req, res) {\n    res.render('index', { isAdmin: isCurrentUserAdministrator(req) });\n};\n\nfunction isCurrentUserAdministrator(req) {\n\tvar adminIp = remoteip.get(req);\n\treturn ((adminIp == '123.456.789.012' || adminIp == '127.0.0.1') && req.query['admin'] == '1');\n}\n```\n\nThat's it! If you load the page without the url parameter, you should not see the CMS controls. If you add the parameter admin=1 to the url, you should see the controls displayed.\n\n## Notes\n\nAfter setup, refresh your web page and you should see the Create.js toolbar along the top of the page. Click Edit to begin editing the content and click Save to save the content to the CMS. Upon clicking Save, the ContentBlocks module will call the REST web service url that you defined in the setup in order to persist the content to the CMS database.\n\nYou are welcome to use the demo REST web service url (red-ant.herokuapp.com, which loads and saves JSON objects to mongodb via REST). However, there is no gaurantee that the web service will remain active. It is recommended to point to your own REST web service, mongodb interface, or CMS.\n\n## Author\n\nKory Becker\nhttp://www.primaryobjects.com\n\nView @ GitHub\nhttps://github.com/primaryobjects/contentblocks",
  "readmeFilename": "Readme.md",
  "bugs": {
    "url": "https://github.com/primaryobjects/contentblocks/issues"
  },
  "dist": {
    "shasum": "8fcd0e49863a1660169362bbcaf234c721e224b4",
    "tarball": "http://registry.npmjs.org/contentblocks/-/contentblocks-0.1.3.tgz"
  },
  "_npmVersion": "1.3.8",
  "_npmUser": {
    "name": "primaryobjects",
    "email": "kbecker@primaryobjects.com"
  },
  "maintainers": [
    {
      "name": "primaryobjects",
      "email": "kbecker@primaryobjects.com"
    }
  ],
  "directories": {},
  "_shasum": "8fcd0e49863a1660169362bbcaf234c721e224b4",
  "_resolved": "http://registry.npmjs.org/contentblocks/-/contentblocks-0.1.3.tgz",
  "homepage": "https://github.com/primaryobjects/contentblocks"
}
